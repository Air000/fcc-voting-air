
<script src="//cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js" ></script>

<script>
    $(document).ready(function() {
        var data = [];
        var poll = <%- JSON.stringify(poll) %>;
        
        poll.optionList.forEach(function(optionObj) {
            console.log(optionObj);
            data.push({
                value: optionObj.votedUsers.length,
                color:"#F7464A",
                highlight: "#FF5A5E",
                label: optionObj.optionName
            });
        });
        // var data = [
        //     {
        //         value: 300,
        //         color:"#F7464A",
        //         highlight: "#FF5A5E",
        //         label: "Red"
        //     },
        //     {
        //         value: 50,
        //         color: "#46BFBD",
        //         highlight: "#5AD3D1",
        //         label: "Green"
        //     },
        //     {
        //         value: 100,
        //         color: "#FDB45C",
        //         highlight: "#FFC870",
        //         label: "Yellow"
        //     }
        // ];
          
            
        // Get context with jQuery - using jQuery's .get() method.
        var ctx = $("#myChart").get(0).getContext("2d");
        // This will get the first returned node in the jQuery collection.
        var myPieChart = new Chart(ctx).Pie(data);
        
    });
</script>
<div>
    <canvas id="myChart" width="400" height="400"></canvas>
</div>